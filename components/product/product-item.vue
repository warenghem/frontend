<template>
  <div>

    <VueSlickCarousel v-bind="settingsSingle">

        <div
          class="pa-2 img-wrapper"
          v-for="(img,i_dx) in product.image"
          :key="'image_'+i_dx"

        >
          <img
            :src="img.src"
            :lazy-src="require('../../assets/images/image-loader.gif')"
            class="lazyload"
            alt=""
            @click="$router.push({path:product.path})"
          >

        </div>
    </VueSlickCarousel>

    <!--    <v-carousel-->
    <!--      :cycle="false"-->
    <!--      hide-delimiters-->
    <!--      show-arrows-on-hover-->
    <!--      v-model="currentItem"-->
    <!--    >-->
    <!--      <v-carousel-item-->
    <!--        v-for="item in product.variants"-->
    <!--        v-if="product.variants"-->
    <!--        :key="item.id"-->

    <!--      >-->
    <!--        <v-card class="grey lighten-5" lazy>-->
    <!--          <v-img :src="item.image" alt="" :lazy-src="require('../../assets/images/image-loader.gif')"></v-img>-->
    <!--        </v-card>-->

    <!--      </v-carousel-item>-->
    <!--      <v-carousel-item-->
    <!--        :src="item.image"-->
    <!--        v-for="item in product.images"-->
    <!--        :key="item.id"-->
    <!--        v-else-->
    <!--      >-->
    <!--      </v-carousel-item>-->
    <!--    </v-carousel>-->
    <div class="pt-3 pb-2 d-flex justify-space-between align-center titlesmall teradeli-medium">
      <strong>{{product.name}}</strong>
      <div>
        <button v-for="(item,idx) in colors"
                :key="'color'+item"
                :style="'background-color:'+item"
                class="color-button"
                @click="currentItem=idx"
        >
        </button>
      </div>
    </div>
    <div class="subtitlesmall teradeli-light text-left">{{product.offers.price*exchange_rate}}
      {{$store.state.product.exchange_currency}}
    </div>
  </div>
</template>

<script>
    export default {
        name: "product-item",
        data() {
            return {
                colors: ['red', 'green'],
                currentItem: 1,
                settingsSingle: {
                    "dots": true,
                    "arrow": true,
                    "infinite": false,
                    "speed": 500,
                    "slidesToShow": 1,
                    "slidesToScroll": 1,
                }
            }
        },
        computed: {
            exchange_rate() {
                this.$store.dispatch('product/getExchangeRate', this.$i18n.locale);
                return this.$store.state.product.exchange_rate
            }
        },
        props: {
            product: {
                type: Object,
                default: () => {
                }
            }
        }
    }
</script>

<style scoped>
  .color-button {
    width: 15px;
    height: 15px;
    margin: 2px;
  }
</style>
